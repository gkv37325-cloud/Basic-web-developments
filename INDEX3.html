<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task 3 - Responsive & Interactive Web App</title>

  <style>
    /* ====== GLOBAL STYLES ====== */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }

    header {
      background: #222;
      color: white;
      padding: 15px;
      text-align: center;
    }

    section {
      background: white;
      margin: 20px;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
    }

    button {
      padding: 10px 15px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    /* ====== IMAGE CAROUSEL ====== */
    .carousel {
      text-align: center;
    }

    .carousel img {
      width: 100%;
      max-width: 400px;
      height: 250px;
      border-radius: 10px;
    }

    .carousel-controls {
      margin-top: 10px;
    }

    /* ====== QUIZ ====== */
    .quiz p {
      font-size: 18px;
    }

    /* ====== API ====== */
    .joke {
      text-align: center;
      font-size: 18px;
      margin-top: 10px;
    }

    /* ====== RESPONSIVE DESIGN ====== */

    /* Tablet */
    @media (max-width: 768px) {
      section {
        margin: 10px;
      }
      h2 {
        font-size: 22px;
      }
    }

    /* Mobile */
    @media (max-width: 480px) {
      h2 {
        font-size: 20px;
      }
      button {
        width: 100%;
        margin-top: 10px;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>Advanced CSS & JavaScript â€“ TASK 3</h1>
</header>

<!-- ===== IMAGE CAROUSEL ===== -->
<section class="carousel">
  <h2>Image Carousel</h2>
  <img id="carouselImage" src="https://picsum.photos/id/1015/400/250">
  <div class="carousel-controls">
    <button onclick="prevImage()">Previous</button>
    <button onclick="nextImage()">Next</button>
  </div>
</section>

<!-- ===== QUIZ ===== -->
<section class="quiz">
  <h2>Interactive Quiz</h2>
  <p id="question"></p>
  <div id="answers"></div>
  <p id="score"></p>
</section>

<!-- ===== API FETCH ===== -->
<section>
  <h2>Fetch Data from API</h2>
  <button onclick="getJoke()">Get Random Joke</button>
  <p class="joke" id="joke"></p>
</section>

<script>
  /* ===== IMAGE CAROUSEL JS ===== */
  const images = [
    "https://picsum.photos/id/1015/400/250",
    "https://picsum.photos/id/1025/400/250",
    "https://picsum.photos/id/1035/400/250"
  ];

  let currentIndex = 0;

  function showImage() {
    document.getElementById("carouselImage").src = images[currentIndex];
  }

  function nextImage() {
    currentIndex = (currentIndex + 1) % images.length;
    showImage();
  }

  function prevImage() {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    showImage();
  }

  /* ===== QUIZ JS ===== */
  const quizData = [
    {
      question: "Which language is used for styling web pages?",
      options: ["HTML", "CSS", "JavaScript"],
      answer: "CSS"
    },
    {
      question: "Which keyword is used to declare a variable in JavaScript?",
      options: ["int", "var", "string"],
      answer: "var"
    }
  ];

  let quizIndex = 0;
  let score = 0;

  function loadQuiz() {
    const q = quizData[quizIndex];
    document.getElementById("question").innerText = q.question;
    const answersDiv = document.getElementById("answers");
    answersDiv.innerHTML = "";

    q.options.forEach(option => {
      const btn = document.createElement("button");
      btn.innerText = option;
      btn.onclick = () => checkAnswer(option);
      answersDiv.appendChild(btn);
    });
  }

  function checkAnswer(selected) {
    if (selected === quizData[quizIndex].answer) {
      score++;
    }
    quizIndex++;
    if (quizIndex < quizData.length) {
      loadQuiz();
    } else {
      document.getElementById("question").innerText = "Quiz Completed!";
      document.getElementById("answers").innerHTML = "";
      document.getElementById("score").innerText = "Your Score: " + score;
    }
  }

  loadQuiz();

  /* ===== API FETCH JS ===== */
  function getJoke() {
    fetch("https://official-joke-api.appspot.com/random_joke")
      .then(response => response.json())
      .then(data => {
        document.getElementById("joke").innerText =
          data.setup + " ðŸ¤£ " + data.punchline;
      })
      .catch(() => {
        document.getElementById("joke").innerText = "Failed to load joke!";
      });
  }
</script>

</body>
</html>
